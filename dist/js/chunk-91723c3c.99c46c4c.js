(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-91723c3c"],{1476:function(t,a,i){},1799:function(t,a,i){"use strict";var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[i("nav",{attrs:{"aria-label":"Page navigation example"}},[i("ul",{staticClass:"pagination"},[i("li",{staticClass:"page-item",class:{disabled:1==t.pagination.current_page}},[i("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){return a.preventDefault(),t.getPage(t.pagination.current_page-1)}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pagination.total_pages,(function(a){return i("li",{key:a,staticClass:"page-item",class:{active:t.pagination.current_page===a}},[i("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.getPage(a)}}},[t._v(t._s(a))])])})),i("li",{staticClass:"page-item",class:{disabled:t.pagination.current_page==t.pagination.total_pages}},[i("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){return a.preventDefault(),t.getPage(t.pagination.current_page+1)}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])])},s=[],c={props:["pagination"],methods:{getPage:function(t){this.$emit("getPages",t)}}},n=c,r=(i("bcce"),i("2877")),o=Object(r["a"])(n,e,s,!1,null,"583ef7b2",null);a["a"]=o.exports},"3b6c":function(t,a,i){"use strict";var e=i("8103"),s=i.n(e);s.a},"53dc":function(t,a,i){},8103:function(t,a,i){},8418:function(t,a,i){"use strict";var e=i("c04e"),s=i("9bf2"),c=i("5c6c");t.exports=function(t,a,i){var n=e(a);n in t?s.f(t,n,c(0,i)):t[n]=i}},"99af":function(t,a,i){"use strict";var e=i("23e7"),s=i("d039"),c=i("e8b5"),n=i("861d"),r=i("7b0b"),o=i("50c4"),l=i("8418"),u=i("65f0"),d=i("1dde"),p=i("b622"),v=i("2d00"),g=p("isConcatSpreadable"),f=9007199254740991,h="Maximum allowed index exceeded",m=v>=51||!s((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),b=d("concat"),C=function(t){if(!n(t))return!1;var a=t[g];return void 0!==a?!!a:c(t)},_=!m||!b;e({target:"Array",proto:!0,forced:_},{concat:function(t){var a,i,e,s,c,n=r(this),d=u(n,0),p=0;for(a=-1,e=arguments.length;a<e;a++)if(c=-1===a?n:arguments[a],C(c)){if(s=o(c.length),p+s>f)throw TypeError(h);for(i=0;i<s;i++,p++)i in c&&l(d,p,c[i])}else{if(p>=f)throw TypeError(h);l(d,p++,c)}return d.length=p,d}})},a89e:function(t,a,i){"use strict";i.r(a);var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),i("div",{staticClass:"row mt-4"},t._l(t.filterProducts.slice(t.starProduct,t.starProduct+10),(function(a){return i("div",{key:a.id,staticClass:"col-md-4 mb-4 product-item"},[i("div",{staticClass:"card border-0 shadow-sm"},[i("div",{staticClass:"bg-cover product-image",staticStyle:{height:"300px"},style:{backgroundImage:"url("+a.imageUrl+")"}}),i("div",{staticClass:"card-body"},[i("span",{staticClass:"badge badge-secondary float-right ml-2"},[t._v(t._s(a.category))]),i("h5",{staticClass:"card-title"},[i("a",{staticClass:"text-dark text-decoration-none",attrs:{href:"#"}},[t._v(t._s(a.title))])]),i("div",{staticClass:"d-flex align-items-baseline",class:{"justify-content-end":!a.origin_price,"justify-content-between":a.origin_price}},[a.origin_price?t._e():i("div",{staticClass:"h5"},[t._v(t._s(t._f("currency")(a.price))+" 元")]),a.origin_price?i("del",{staticClass:"h6"},[t._v("原價 "+t._s(t._f("currency")(a.origin_price))+" 元")]):t._e(),a.origin_price?i("div",{staticClass:"h5"},[t._v("優惠"+t._s(t._f("currency")(a.price))+" 元")]):t._e()])]),i("div",{staticClass:"card-footer d-flex bg-warning"},[i("button",{staticClass:"btn btn-info btn-sm",attrs:{type:"button"},on:{click:function(i){return t.getPorduct(a.id)}}},[t.status.isItem===a.id?i("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v(" 查看更多 ")]),i("button",{staticClass:"btn btn-primary btn-sm ml-auto",attrs:{type:"button"},on:{click:function(i){return t.addCart(a.id)}}},[t.status.isCart===a.id?i("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v(" 加到購物車 ")])])])])})),0),t.products.length?i("Pagination",{attrs:{pagination:t.pagination},on:{getPages:t.getPorducts}}):t._e()],1)},s=[],c=(i("99af"),i("4de4"),i("1157")),n=i.n(c),r=i("eb00"),o=i("1799"),l={components:{ProductSider:r["a"],Pagination:o["a"]},props:["active"],data:function(){return{starProduct:"",totalPages:"",buyQty:1,isLoading:!1,products:[],product:{},pagination:"",carts:[],cartLen:"",delCart:{},cartTitle:"",status:{isItem:"",isCart:""},couponCode:"",form:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:{getPorducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a="".concat("https://vue-course-api.hexschool.io/","api/").concat("ricky","/products/all"),i=this;i.isLoading=!0,this.$http.get(a).then((function(a){i.products=a.data.products;var e=i.products.filter((function(t){return"all"==i.active?t:i.active==t.category?t:void 0}));i.starProduct=10*(t-1),i.totalPages=Math.ceil(e.length/10),i.pagination={total_pages:i.totalPages,current_page:t},window.scrollTo(0,0),i.isLoading=!1}))},getPorduct:function(t){"".concat("https://vue-course-api.hexschool.io/","api/").concat("ricky","/product/").concat(t);var a=this;a.$router.push("/productspage/product/".concat(t))},addCart:function(t){var a=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e="".concat("https://vue-course-api.hexschool.io/","api/").concat("ricky","/cart"),s=this;s.status.isCart=t;var c={product_id:t,qty:i};console.log(c),this.$http.post(e,{data:c}).then((function(t){alert(t.data.message),s.status.isCart="",a.getCarts()}))},getCarts:function(){var t="".concat("https://vue-course-api.hexschool.io/","api/").concat("ricky","/cart"),a=this;this.$http.get(t).then((function(t){a.carts=t.data.data,a.cartLen=t.data.data.carts.length,window.scrollTo(0,0)}))},removeCartModal:function(t){n()("#delCartModal").modal("show"),this.delCart=t,this.delCart.title=t.product.title,this.cartTitle=t.product.title,console.log(this.delCart)},removeCart:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io/","api/").concat("ricky","/cart/").concat(t.delCart.id);t.isLoading=!0,this.$http.delete(a).then((function(a){n()("#delCartModal").modal("hide"),t.getCarts(),console.log(t.carts),t.isLoading=!1}))},creatOrder:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io/","api/").concat("ricky","/order"),i=t.form;this.$http.post(a,{data:i}).then((function(a){console.log(a.data),a.data.success&&t.$router.push("/admin/checkout/".concat(a.data.orderId))}))}},computed:{filterProducts:function(){var t=this;return t.products.filter((function(a){return"all"==t.active?a:a.category==t.active?a:void 0}))}},watch:{active:function(){console.log(this.active),this.getPorducts()}},created:function(){this.getPorducts()}},u=l,d=(i("3b6c"),i("2877")),p=Object(d["a"])(u,e,s,!1,null,"785109d1",null);a["default"]=p.exports},bcce:function(t,a,i){"use strict";var e=i("53dc"),s=i.n(e);s.a},d14d:function(t,a,i){"use strict";var e=i("1476"),s=i.n(e);s.a},eb00:function(t,a,i){"use strict";var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[i("nav",[i("ul",{staticClass:"nav-navbar mr-auto text-center list-unstyled"},[i("li",{staticClass:"nav-item bg-warning text-white h5 py-3 mb-0 "},[t._v("商品類別")]),i("li",{staticClass:"nav-item h5 mb-0 text-dark border-top-0"},[i("a",{staticClass:"nav-link p-3 sider-item",class:{active:"all"==t.active},attrs:{href:"#"},on:{click:function(a){t.active="all"}}},[t._v("全部商品")])]),i("li",{staticClass:"nav-item h5 mb-0 text-dark border-top-0"},[i("a",{staticClass:"nav-link p-3 sider-item",class:{active:"movie"==t.active},attrs:{href:"#"},on:{click:function(a){t.active="movie"}}},[t._v("熱門電影")])]),i("li",{staticClass:"nav-item h5 mb-0 text-dark border-top-0"},[i("a",{staticClass:"nav-link p-3 sider-item",class:{active:"tv"==t.active},attrs:{href:"#"},on:{click:function(a){t.active="tv"}}},[t._v("精彩影集")])]),i("li",{staticClass:"nav-item h5 mb-0 text-dark border-top-0"},[i("a",{staticClass:"nav-link p-3 sider-item",class:{active:"eat"==t.active},attrs:{href:"#"},on:{click:function(a){t.active="eat"}}},[t._v("嘴饞推薦")])])])])])},s=[],c={props:["active"]},n=c,r=(i("d14d"),i("2877")),o=Object(r["a"])(n,e,s,!1,null,"50bc00bf",null);a["a"]=o.exports}}]);
//# sourceMappingURL=chunk-91723c3c.99c46c4c.js.map